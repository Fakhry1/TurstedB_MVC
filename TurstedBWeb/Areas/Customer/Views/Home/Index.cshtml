@* <!-- Tabs Left -->
<div class='tabs-x tabs-right tab-bordered'>
    <ul id="myTab-tabs-right" class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab-tabs-right" href="#home-tabs-right" role="tab-kv" data-bs-toggle="tab" title="Home tab" aria-controls="home-kv-1" aria-selected="true">
                <span class="nav-link-text"><i class="fa fa-user"></i>Home</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="profile-tab-tabs-right" href="#profile-tabs-right" role="tab-kv" data-bs-toggle="tab" title="Profile details" aria-controls="profile">
                <span class="nav-link-text"><i class="fa fa-user"></i> Profile</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" id="myTabDrop-tabs-right" role="tab-kv" title="Menu details" aria-controls="Menu">
                <span class="nav-link-text"><i class="fa fa-list-alt"></i> Menu</span>
            </a>
           
        </li>
       
    </ul>
    <div id="myTabContent-tabs-right" class="tab-content">
        <div class="tab-pane fade show active" id="home-tabs-right" role="tabpanel" aria-labelledby="home-tab-tabs-right"><p>Test</p></div>
        <div class="tab-pane fade" id="profile-tabs-right" role="tabpanel" aria-labelledby="profile-tabs-right"><p>...</p></div>
        <div class="tab-pane fade" id="dropdown-tabs-right-1" role="tabpanel" aria-labelledby="dropdown-tab-tabs-right-1"><p>...</p></div>
        <div class="tab-pane fade" id="dropdown-tabs-right-2" role="tabpanel" aria-labelledby="dropdown-tab-tabs-right-2"><p>...</p></div>
     </div>
</div> *@
<div class="container mt-5">
    <div class="row">
        <form enctype="multipart/form-data" method="post">
            <div class="accordion" id="accordionExample">
                <div class="steps">
                    <progress id="progress" value=0 max=100></progress>
                    <div class="step-item">
                        <button id="your-id" class="step-button text-center" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            1
                        </button>
                        <div class="step-title">
                            قيد اعداد
                        </div>
                    </div>
                    <div class="step-item">
                        <button id="your-id" type="button" class="step-button text-center collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            2
                        </button>
                        <div class="step-title">
                            اعتماد
                        </div>
                    </div>
                    <div class="step-item">
                        <button id="your-id" type="button" class="step-button text-center collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            3
                        </button>
                        <div class="step-title">
                            تصحيح لغوي
                        </div>
                    </div>

                    <div class="step-item">
                        <button id="your-id" type="button" class="step-button text-center collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                            4
                        </button>
                        <div class="step-title">
                            اعتماد تصميم
                        </div>
                    </div>

                    <div class="step-item">
                        <button id="your-id" type="button" class="step-button text-center collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                            5
                        </button>
                        <div class="step-title">
                            نشر
                        </div>
                    </div>
                </div>


            </div>

        </form>
    </div>
</div>
<!-- Tabs Right -->
@model TopicVM

@{
    var State = 0;

}
<div class='tabs-x tabs-right tab-bordered   mt-3'>
  
    <ul id="myTab-tabs-right" class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab-tabs-right" href="#home-tabs-right" role="tab" data-bs-toggle="tab" title="Home tab" aria-controls="home-kv-1" aria-selected="true">
                <span class="nav-link-text"><i class="fa fa-user"></i>  الطلب</span>
            </a>
            <hr class="hr" />
        </li>
        
        <li class="nav-item">
            <a class="nav-link" id="profile-tab-tabs-right" href="#profile-tabs-right" role="tab-kv" data-bs-toggle="tab" title="File details" aria-controls="profile">
                <span class="nav-link-text"><i class="fa fa-user"></i> الملف</span>
            </a>
            <hr class="hr" />
        </li>
        <li class="nav-item">
            <a class="nav-link" id="State-tab-tabs-right" href="#State-tabs-right" role="tab-kv" data-bs-toggle="tab" title="State details" aria-controls="State">
                <span class="nav-link-text"><i class="fa fa-user"></i> الحالات</span>
            </a>
            <hr class="hr" />
        </li>
    </ul>
   
    <div id="myTabContent-tabs-right" class="tab-content">


      @*   Requset tab *@
        <div class="tab-pane fade show active" id="home-tabs-right" role="tabpanel" aria-labelledby="home-tab-tabs-right">
            <div class="card-header bg-secondary bg-gradient ml-0 py-3">
                <div class="row">
                    <div class="col-12 text-center">
                        <h2 class="text-white py-2">Request</h2>
                    </div>
                </div>
            </div>
            <div class="row mt-2">
                <div class="form-floating py-2 col-4">
                    <input asp-for="topic.Titel" class="form-control " />
                    <label asp-for="topic.Titel" class="ms-2"></label>
                    <span asp-validation-for="topic.Titel" class="text-danger"></span>
                </div>

                <div class="form-floating py-2 col-4">

                    <select asp-for="topic.TopicClassification" asp-items=@(new List<SelectListItem> { new SelectListItem {Text="توجيه",Value="توجيه" }
                            ,new SelectListItem {Text="درس فيديو",Value="درس فيديو" } ,new SelectListItem {Text="درس صوت",Value="درس صوت" }
                            ,new SelectListItem {Text="اعلان",Value="اعلان" } ,new SelectListItem {Text="صور",Value="صور" }} ) class="form-select">
                        <option disabled selected></option>
                    </select>
                    <label asp-for="topic.TopicClassification" class="ms-2"></label>
                </div>
                <div class="form-floating py-2 col-4">

                    <select asp-for="topic.State" asp-items=@(new List<SelectListItem> { new SelectListItem {Text="قيد اعداد",Value="قيد اعداد" }
                            ,new SelectListItem {Text="اعتماد",Value="اعتماد" } ,new SelectListItem {Text="تصحيح لغوي",Value="تصحيح لغوي" }
                            ,new SelectListItem {Text="اعتماد تصميم",Value="اعتماد تصميم" } ,new SelectListItem {Text="نشر",Value="نشر" }} ) class="form-select">
                        <option disabled selected></option>
                    </select>
                    <label asp-for="topic.State" class="ms-2"></label>
                </div>
               
            </div>
            <div class="row">
                <div class="form-floating py-2 col-12">
                    <label asp-for="topic.TopicDiscription" class="ms-2 text-muted mb-1"></label>
                    <textarea asp-for="topic.TopicDiscription" class="form-control"></textarea>
                </div>
            </div>

            <div class="row">

                <div class="form-floating py-2 col-4">
                    <input asp-for="topic.FileSize" class="form-control " />
                    <label asp-for="topic.FileSize" class="ms-2"></label>

                </div>

                <div class="form-floating py-2 col-4">

                    <select asp-for="topic.Active" asp-items=@(new List<SelectListItem> { new SelectListItem {Text="نعم",Value="نعم" }
                            ,new SelectListItem {Text="لا",Value="لا" }} ) class="form-select">
                        <option disabled selected></option>
                    </select>
                    <label asp-for="topic.Active" class="ms-2"></label>
                </div>

                <div class="form-floating py-2 col-4">

                    <input type="text" asp-for="topic.CreationDate" class="form-control" disabled />

                    <label asp-for="topic.CreationDate" class="ms-2"></label>

                </div>

            </div>

        </div>
       @*  other tabs *@


        <div class="tab-pane fade" id="profile-tabs-right" role="tabpanel" aria-labelledby="profile-tabs-right">
            <div class="card-header bg-secondary bg-gradient ml-0 py-3">
                <div class="row">
                    <div class="col-12 text-center">
                        <h2 class="text-white py-2">File</h2>
                    </div>
                </div>
            </div>
            <div class="row mt-2">
            <div class="form-floating py-2 col-6 ">

                <input asp-for="topic.TopicFile" id="input-20" type="file">
            </div>

                <div class="form-floating py-2 col-6">
                    <div class="row form-floating py-2">
                    <input asp-for="topic.FileSize" class="form-control " />
                    <label asp-for="topic.FileSize" class="ms-2"></label>
                    </div>

                    <div class="row form-floating py-2">
                    <input asp-for="topic.FileSize" class="form-control " />
                    <label asp-for="topic.FileSize" class="ms-2"></label>
                    </div>

                    <div class="row form-floating py-2">
                        <input asp-for="topic.FileSize" class="form-control " />
                        <label asp-for="topic.FileSize" class="ms-2"></label>
                    </div>
                </div>
               @*  <div class="form-floating py-2 col-6">
                <input asp-for="topic.FileSize" class="form-control " />
                <label asp-for="topic.FileSize" class="ms-2"></label>

            </div> *@

        </div>
        </div>
        

        <div class="tab-pane fade" id="State-tabs-right" role="tabpanel" aria-labelledby="dropdown-tab-tabs-right-1">

            @* ______________________State History___________________________________ *@

            <div class="form-floating col-12 ">

                <table id="tblData" class="table table-success table-striped" style="width:100%">
                    <thead>

                        <tr>
                            <th>@_localization.Getkey("User")</th>
                            <th>@_localization.Getkey("State")</th>


                        </tr>

                    </thead>
                    <tbody>
                       @*  @foreach (var obj in Model.StateHistoryList.OrderBy(u => u.StateSetDate))
                        {
                            <tr>
                                <td>@obj.ApplicationUser.Name</td>
                                <td>
                                    <div>
                                        @obj.State
                                    </div>
                                    <div class="h6">
                                        @obj.StateSetDate
                                    </div>

                                </td>

                            </tr>
                        }
                    </tbody> *@
                </table>

            </div>
            @*  ___________________________________________________________ *@
        </div>
      
        
    </div>
    </div>


@section Scripts {
    <script>
        tinymce.init({
            selector: 'textarea',
            plugins: 'anchor autolink charmap codesample emoticons  lists   table visualblocks wordcount',
            toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough |  align lineheight | numlist bullist indent outdent',
        });
    </script>


    <script>
        var loadFile = function (event) {
            var image = document.getElementById('up-file');
            image.src = URL.createObjectURL(event.target.files[0]);
        };

    </script>

    @* ____________________________________*@

    <script>
        $(document).ready(function () {
            // For Bootstrap 5.x
            $("#input-20").fileinput({
                browseClass: "btn btn-info",
                mainClass: "d-grid",
                showCaption: false,
                showRemove: false,
                showUpload: false
            });
        });
    </script>
    <script>
        $(document).ready(function () {
            // For Bootstrap 5.x
            var url = '/Files/Topics/c44d4289-7d42-4edd-a0b7-986beab0e461.mp4'

            // C: \Users\fsatt\source\repos\Fakhry1\TurstedB_MVC\TurstedBWeb\wwwroot\Files\Topics\c44d4289-7d42-4edd-a0b7-986beab0e461.mp4
            $("#input-21").fileinput({
                browseClass: "btn btn-info",
                mainClass: "d-grid",
                showCaption: false,
                showRemove: false,
                showUpload: false,

                // allowedFileTypes: ["pdf", "video/mp4"],
                initialPreview: [
                    //depend on previous data
                    // 'http://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/FullMoon2010.jpg/631px-FullMoon2010.jpg'
                    // '~\Files\Topics\0997bc6d-fbab-4ad8-b0e0-9e1619ab3b78.png'
                    url

                    //'https://plugins.krajee.com/samples/sample-2.pdf'
                ],
                initialPreviewConfig: [
                    // { type: 'pdf', filetype: "pdf" }
                    // Url:https://plugins.krajee.com/file-preview-management-demo#preview-data
                    { type: "video", filetype: "video/mp4" }
                ],
                initialPreviewAsData: true


            });
        });
    </script>

    <script>

        const stepButtons = document.querySelectorAll('.step-button');
        const progress = document.querySelector('#progress');
        var form = document.getElementById("form-id");
        var step = @State;

        Array.from(stepButtons).forEach((button, index) => {
            if (index < step) { button.classList.add('done') }
            progress.setAttribute('value', step * 100 / (stepButtons.length - 1));
        });

        Array.from(stepButtons).forEach((button, index) => {
            button.addEventListener('click', () => {
                progress.setAttribute('value', index * 100 / (stepButtons.length - 1));//there are 3 buttons. 2 spaces.
                //stepButtons.classList.add('done');
                stepButtons.forEach((item, secindex) => {

                    if (index >= secindex) {
                        item.classList.add('done');
                        //document.getElementById("your-id").addEventListener("click", function () {
                        //    form.submit();
                        //});

                    }
                    if (index < secindex) {
                        item.classList.remove('done');
                        //document.getElementById("your-id").addEventListener("click", function () {
                        //    form.submit();
                        //});
                    }
                })
            })
        });
    </script>


    @{
        <partial name="_ValidationScriptsPartial" />
    }
}